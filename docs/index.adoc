= Agorapulse Micronaut Libaries

[.ribbon]
image::ribbon.png[link={projectUrl}]

--
image::https://api.bintray.com/packages/agorapulse/libs/fixt/images/download.svg[link="https://bintray.com/agorapulse/libs/fixt/_latestVersion",float="left"]
image::https://travis-ci.org/agorapulse/testing-libraries.svg?branch=master["Build Status", link="https://travis-ci.org/agorapulse/testing-libraries"float="left"]
image::https://coveralls.io/repos/github/agorapulse/testing-libraries/badge.svg?branch=master[link=https://coveralls.io/github/agorapulse/testing-libraries?branch=master",float="left"]
--

---

Set of useful test utilities. All the libraries are available in https://bintray.com/bintray/jcenter[JCenter Maven repository].

== Fixt

Fixt helps organize fixtures for your fixtures in a directories with the same name as your test class.

image::fixt.png[]

Given a test residing in `src/test/java` or `src/test/groovy` with name `org.example.MyTest` then
the fixtures' location will `src/test/resources/org/example/MyTest` keeping all the files for given test in a single folder.

If you generate the fixture files from your tests it is always better to specify the path to the test resources folder
using `test.resources.folder` system property or `TEST_RESOURCES_FOLDER` environment variable.

In Gradle, you can easily achive this by using following snippet:

[source,groovy,indent=0]
.Setting Test Resources Folder in Gradle
----
test {
    environment 'TEST_RESOURCES_FOLDER', new File(project.projectDir, 'src/test/resources').canonicalPath
}
----

Fixt can be use directly or as a JUnit rule which will guarantee that the directories are created before
the test run so adding new fixture files will be easier.

=== Installation

=== Usage

[source,groovy,indent=0,options="nowrap"]
.Example Specification
----
include::../fixt/src/test/groovy/com/agorapulse/fixt/FixtSpec.groovy[]
----
<1> Declare `Fixt` rule for the specification class
<2> Read the content of the file as stream
<3> Read the content of the file as text
<4> Create `Fixt` for the specific class (`ReferenceClass`)
<5> Create all necessary directories if they do not exist yet
<6> Write the content of the stream into a file
<7> Write the text into a file

=== Installation

[source,indent=0,role="primary",subs='verbatim,attributes']
.Gradle
----
repositories {
    jcenter()
}

dependencies {
    testCompile 'com.agorapulse.testing:fixt:{version}'
}
----

[source,xml,indent=0,role="secondary",subs='verbatim,attributes']
.Maven
----
<dependency>
    <groupId>com.agorapulse.testing</groupId>
    <artifactId>fixt</artifactId>
    <version>{version}</version>
    <scope>test</scope>
</dependency>
----


== Maintained by

image::https://cloud.githubusercontent.com/assets/139017/17053391/4a44735a-5034-11e6-8e72-9f4b7139d7e0.png[link=https://www.agorapulse.com/]
